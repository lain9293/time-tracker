{"version":3,"sources":["utils/uuid.js","utils/localStorage.js","utils/timeCalc.js","index.js"],"names":["uuidv4","replace","c","r","Math","random","toString","localStore","getItem","key","type","value","window","localStorage","JSON","parse","setItem","stringify","removeItem","clear","timeSum","t1","t2","split","map","Number","hT1","mT1","rH","rM","App","useState","days","setDays","currentDay","setCurrentDay","id","description","time","newAction","setNewAction","dateOptions","year","month","day","d","onClick","date","toLocaleString","actions","length","a","reduce","acc","onSubmit","e","preventDefault","newDays","addNewAction","placeholder","onChange","target","Date","addNewDay","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e5310103.chunk.js","sourcesContent":["const uuidv4 = () => {\r\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\r\n    var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\r\n    return v.toString(16);\r\n  });\r\n}\r\n\r\nexport default uuidv4;","const localStore = {\r\n  getItem: (key, type) => { \r\n    const value = window.localStorage.getItem(key);\r\n    if (value) {\r\n      return JSON.parse(value);\r\n    }\r\n    switch (type) {\r\n      case 'Array':\r\n        return [];\r\n      case 'Object':\r\n        return {};\r\n      default:\r\n        return ''\r\n    }\r\n  },\r\n\r\n  setItem: (key, value) => {\r\n    window.localStorage.setItem(key, JSON.stringify(value));\r\n  },\r\n\r\n  removeItem: (key) => {\r\n    window.localStorage.removeItem(key);\r\n  },\r\n\r\n  clear: () => {\r\n    window.localStorage.clear();\r\n  },\r\n};\r\n\r\nexport default localStore;","const timeSum = (t1, t2) => {\r\n  const [hT1, mT1] = t1.split(':').map(Number);\r\n  const [hT2, mT2] = t2.split(':').map(Number);\r\n  let rH = hT1 + hT2;\r\n  let rM = mT1 + mT2;\r\n  if (rM >= 60) {\r\n    rH++;\r\n    rM -= 60;\r\n  }\r\n  return `${rH}:${rM}`;\r\n}\r\n\r\nexport default timeSum;","import React, { useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport uuidv4 from './utils/uuid.js';\nimport localStore from './utils/localStorage.js';\nimport timeSum from './utils/timeCalc.js';\n\nconst App = () => {\n  const [days, setDays] = useState(localStore.getItem('days', 'Array'));\n  const [currentDay, setCurrentDay] = useState('');\n  const [newAction, setNewAction] = useState({\n    id: uuidv4(),\n    description: '',\n    time: '',\n  });\n\n  const dateOptions = {\n    year: 'numeric',\n    month: 'long',\n    day: 'numeric',\n  };\n\n  const addNewDay = () => {\n    const id = uuidv4();\n    setDays([...days, { id, date: new Date(), actions: [] }]);\n    setCurrentDay(id);\n  };\n\n  const selectCurrentDay = (id) => {\n    setCurrentDay(id);\n  };\n\n  const addNewAction = (e, id) => {\n    e.preventDefault();\n    const newDays = days.map((d) => {\n      if (d.id === id) {\n        d.actions = [...d.actions, newAction];\n      }\n      return d;\n    });\n    setDays(newDays);\n    localStore.setItem('days', newDays);\n    setNewAction({ id: uuidv4(), description: '', time: '' });\n  };\n\n  return (\n    <div>\n      <ul>\n        {days.map((d) => (\n          <li key={d.id} onClick={() => selectCurrentDay(d.id)}>\n            Date: {d.date.toLocaleString('ru', dateOptions)} Time sum:\n            {d.actions.length &&\n              d.actions.map((a) => a.time).reduce((acc, a) => timeSum(a, acc))}\n            {currentDay === d.id ? ' << Current day' : ''}\n            {currentDay === d.id && (\n              <div>\n                <ul>\n                  {d.actions.map((a) => (\n                    <li key={a.id}>\n                      Description: {a.description} Time: {a.time}\n                    </li>\n                  ))}\n                </ul>\n                <form type=\"submit\" onSubmit={(e) => addNewAction(e, d.id)}>\n                  <input\n                    type=\"text\"\n                    placeholder=\"Description\"\n                    value={newAction.description}\n                    onChange={(e) => {\n                      setNewAction({\n                        ...newAction,\n                        description: e.target.value,\n                      });\n                    }}\n                  />\n                  <input\n                    type=\"time\"\n                    value={newAction.time}\n                    onChange={(e) => {\n                      setNewAction({\n                        ...newAction,\n                        time: e.target.value,\n                      });\n                    }}\n                  />\n                  <input type=\"submit\" value=\"Add\" />\n                </form>\n              </div>\n            )}\n          </li>\n        ))}\n      </ul>\n      <input type=\"button\" value=\"New day\" onClick={() => addNewDay()} />\n    </div>\n  );\n};\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}